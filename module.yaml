module:
  name: digraph_pdf

helpers:
  classes:
    pdf: ${module.namespace}\PdfHelper

permissions:
  url:
    '*/pdf': [allow all]
    '*/pdfbook': [allow all]
    '*/pdfsettings':
      - deny all
      - allow group webmaster

actions:
  proper:
    '*':
      pdfsettings: !id/pdfsettings

outputfilters:
  pdf: ${module.namespace}\PdfOutputFilter

templates:
  cssbundles:
    pdf:
      core_notifications: _digraph/notifications/notifications.css
      core_filestore: _digraph/core-css/filestore.css
      core_blocks: _digraph/core-css/blocks.css

pdf:
  ttl: 86400 # day-long cache by default
  enabled: false
  css: pdf/pdf.css
  article_break_type: next-odd
  include_in_books: true
  filename:
    name: ${fields.page_name}
    suffix: _${pdf.filename.date}_${pdf.filename.contenthash}
    prefix: ''
  columns:
    count: 1
    gap: 5
  mpdf:
    mode: utf-8
    format: Letter
    orientation: P
    useKerning: true
    mirrorMargins: 1
    setAutoBottomMargin: stretch
    setAutoTopMargin: stretch
    autoMarginPadding: 5
  package:
    response:
      ttl: ${pdf.ttl}

strings:
  urls:
    proper:
      '*/pdf': PDF version
      '*/pdfbook': PDF ebook
      '*/pdfsettings': PDF settings
